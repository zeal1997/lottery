{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'LoginForm',\n  data() {\n    return {\n      phone: '',\n      password: '',\n      error: ''\n    };\n  },\n  methods: {\n    async handleLogin() {\n      // 前端验证\n      if (!/^1[3-9]\\d{9}$/.test(this.phone)) {\n        this.error = '请输入有效的手机号';\n        return;\n      }\n      if (this.password !== this.phone.slice(-6)) {\n        this.error = '密码必须是手机号后六位';\n        return;\n      }\n\n      // 调用登录action\n      // 修改前：const success = await this.$store.dispatch('login', { this.phone, this.password })\n      //   const success = await this.$store.dispatch('login', { phone: this.phone, password: this.password })\n      const success = true;\n      if (success) {\n        this.$router.push(this.$store.state.hasDrawn ? '/result' : '/lottery');\n      } else {\n        this.error = '手机号不存在，请联系管理员';\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","phone","password","error","methods","handleLogin","test","slice","success","$router","push","$store","state","hasDrawn"],"sources":["/Users/jackie/Documents/vue/lottery/src/components/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <h2>登录</h2>\n    <form @submit.prevent=\"handleLogin\">\n      <div class=\"form-group\">\n        <label>手机号：</label>\n        <input \n          type=\"text\" \n          v-model=\"phone\" \n          placeholder=\"请输入手机号\"\n          pattern=\"^1[3-9]\\d{9}$\"\n          required\n        >\n      </div>\n      <div class=\"form-group\">\n        <label>密码：</label>\n        <input \n          type=\"password\" \n          v-model=\"password\" \n          placeholder=\"请输入手机号后六位\"\n          pattern=\"^\\d{6}$\"\n          required\n        >\n      </div>\n      <button type=\"submit\" class=\"login-btn\">登录</button>\n      <div v-if=\"error\" class=\"error-message\">{{ error }}</div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginForm',\n  data() { return { phone: '', password: '', error: '' }},\n  methods: {\n    async handleLogin() {\n      // 前端验证\n      if (!/^1[3-9]\\d{9}$/.test(this.phone)) {\n        this.error = '请输入有效的手机号'\n        return\n      }\n      if (this.password !== this.phone.slice(-6)) {\n        this.error = '密码必须是手机号后六位'\n        return\n      }\n\n      // 调用登录action\n      // 修改前：const success = await this.$store.dispatch('login', { this.phone, this.password })\n    //   const success = await this.$store.dispatch('login', { phone: this.phone, password: this.password })\n    const success = true\n      if (success) {\n        this.$router.push(this.$store.state.hasDrawn ? '/result' : '/lottery')\n      } else {\n        this.error = '手机号不存在，请联系管理员'\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  max-width: 400px;\n  margin: 100px auto;\n  padding: 30px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\nh2 {\n  color: #333;\n  margin-bottom: 30px;\n  font-weight: 500;\n}\n\n.form-group {\n  margin-bottom: 20px;\n  text-align: left;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 8px;\n  color: #666;\n  font-size: 14px;\n}\n\ninput {\n  width: 100%;\n  padding: 12px 15px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 16px;\n  transition: border-color 0.3s;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #42b983;\n  box-shadow: 0 0 0 2px rgba(66, 185, 131, 0.2);\n}\n\n.login-btn {\n  width: 100%;\n  padding: 14px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.login-btn:hover {\n  background-color: #359469;\n}\n\n.error-message {\n  color: #ff4444;\n  margin-top: 15px;\n  font-size: 14px;\n  text-align: left;\n}\n</style>"],"mappings":";AA+BA,eAAe;EACbA,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IAAE,OAAO;MAAEC,KAAK,EAAE,EAAE;MAAEC,QAAQ,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAG,CAAC;EAAA,CAAC;EACvDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB;MACA,IAAI,CAAC,eAAe,CAACC,IAAI,CAAC,IAAI,CAACL,KAAK,CAAC,EAAE;QACrC,IAAI,CAACE,KAAI,GAAI,WAAU;QACvB;MACF;MACA,IAAI,IAAI,CAACD,QAAO,KAAM,IAAI,CAACD,KAAK,CAACM,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;QAC1C,IAAI,CAACJ,KAAI,GAAI,aAAY;QACzB;MACF;;MAEA;MACA;MACF;MACA,MAAMK,OAAM,GAAI,IAAG;MACjB,IAAIA,OAAO,EAAE;QACX,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,QAAO,GAAI,SAAQ,GAAI,UAAU;MACvE,OAAO;QACL,IAAI,CAACV,KAAI,GAAI,eAAc;MAC7B;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}